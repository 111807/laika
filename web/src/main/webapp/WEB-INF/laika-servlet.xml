<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:tx="http://www.springframework.org/schema/tx"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                     http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
                           ">
                           
  <bean id="clinicalDocumentUploadController" class="org.projectlaika.web.ClinicalDocumentUploadController">
    <property name="commandClass" value="org.projectlaika.models.ClinicalDocument"/>
    <property name="commandName" value="clinicalDocument"/>
    <property name="formView" value="upload/cdUploadForm"/>
    <property name="successView" value="upload/confirmation"/>
    <property name="emf" ref="entityManagerFactory"/>
  </bean>

  <bean id="documentLocationCreationController" class="org.projectlaika.web.DocumentLocationCreationController">
    <property name="commandClass" value="org.projectlaika.models.DocumentLocation"/>
    <property name="commandName" value="documentLocation"/>
    <property name="formView" value="documentLocation/create"/>
    <property name="successView" value="documentLocation/display"/>
    <property name="emf" ref="entityManagerFactory"/>
  </bean>

  <bean id="clinicalDocumentListController" class="org.projectlaika.web.ClinicalDocumentListController">
    <property name="emf" ref="entityManagerFactory"/>
  </bean>
  <bean id="urlMapping"
    class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping" />
    
  <bean id="multipartResolver"
        class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/>

  <bean id="viewResolver"
    class="org.springframework.web.servlet.view.InternalResourceViewResolver">
    <property name="prefix" value="/jsp/" />
    <property name="suffix" value=".jsp" />
  </bean>
</beans>