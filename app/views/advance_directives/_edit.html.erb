<!-- Start Advance Directive Module -->
<% remote_form_for(:advance_directive, 
                   :url => patient_data_instance_advance_directive_path(patient_data),
                   :update => 'advanceDirectiveContainer', :method => http_method(advance_directive)) do |f| %>
<h5>Advance Directive</h5>
<table>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Advance Directive Type</td>
    <td>
      <%= f.select :advance_directive_type_id, @advance_directive_types.collect{|advance_directive_type| [advance_directive_type.name, advance_directive_type.id]}, {:include_blank => true} %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Free Text Description</td>
    <td>
      <%= f.text_field :free_text %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Start Effective Time</td>
    <td><%= f.calendar_date_select :start_effective_time %></td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">End Effective Time</td>
    <td><%= f.calendar_date_select :end_effective_time %></td>
  </tr>
  <%= render :partial => '/person_names/edit', :locals => {:person_name => advance_directive.person_name}%>
  <%= render :partial => '/addresses/edit', :locals => {:address => advance_directive.address}%>
  <%= render :partial => '/telecoms/edit', :locals => {:telecom => advance_directive.telecom}%>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td></td>
    <td><%= f.submit "Save" %></td>
  </tr>
</table>
<% end %>