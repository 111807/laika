<% if insurance_provider.new_record?
     insurance_provider_div = 'insurance_providerNew' 
     html_options = {} -%>
<div id="insurance_providerNew">
<% else
     insurance_provider_div = "insurance_provider#{insurance_provider.id}"
     html_options = {:method => 'put'}
   end %>
<% remote_form_for(:insurance_provider, insurance_provider, :url => patient_data_instance_insurance_provider_path(patient_data, insurance_provider), :html => html_options,
                   :update => insurance_provider_div) do |f| -%>
<table>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Insurance Provider Organization</td>
    <td>
      <%= f.text_field :represented_organization %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Insurance Provider Group Number</td>
    <td>
      <%= f.text_field :group_number %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Insurance Type</td>
    <td>
      <%= f.select :insurance_type_id, @insuranceTypes.collect{|insurance_type| [insurance_type.name, insurance_type.id]} %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Relationship to Subscriber</td>
    <td>
      <%= f.select :coverage_role_type_id, @coverageRoleTypes.collect{|coverage_role_type| [coverage_role_type.name, coverage_role_type.id]} %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td class="lighttext">Financial Responsibility Type</td>
    <td>
      <%= f.select :role_class_relationship_formal_type_id, @roleClassRelationshipFormalTypes.collect{|role_class_relationship_formal_type| [role_class_relationship_formal_type.name, role_class_relationship_formal_type.id]} %>
    </td>
  </tr>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td colspan="2" class="lighttext">Insurance Provider Patient</td>
  </tr>
  <%= render :partial => '/insurance_provider_patients/edit', :locals => {:insurance_provider_patient => insurance_provider.insurance_provider_patient}%> 
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td colspan="2" class="lighttext">Insurance Provider Subscriber</td>
  </tr>
  <%= render :partial => '/insurance_provider_subscribers/edit', :locals => {:insurance_provider_subscriber => insurance_provider.insurance_provider_subscriber}%>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td colspan="2" class="lighttext">Insurance Provider Guarantor</td>
  </tr>
  <%= render :partial => '/insurance_provider_guarantors/edit', :locals => {:insurance_provider_guarantor => insurance_provider.insurance_provider_guarantor}%>
  <tr class="<%= cycle("darkzebra", "lightzebra")%>">
    <td></td>
    <td><%= f.submit "Save" %></td>
  </tr>
</table>
<% end %>

